var X=Object.defineProperty,Y=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var et=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;var G=(l,a,i)=>a in l?X(l,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[a]=i,U=(l,a)=>{for(var i in a||(a={}))et.call(a,i)&&G(l,i,a[i]);if(O)for(var i of O(a))ut.call(a,i)&&G(l,i,a[i]);return l},q=(l,a)=>Y(l,tt(a));import{f as nt,s as V,g as N}from"./index.a1fc8dcb.js";var A=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function rt(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var K={exports:{}},Q={exports:{}};(function(l,a){(function(i,b){l.exports=b()})(A,function(){var i=i||function(b,k){var y;if(typeof window!="undefined"&&window.crypto&&(y=window.crypto),typeof self!="undefined"&&self.crypto&&(y=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(y=globalThis.crypto),!y&&typeof window!="undefined"&&window.msCrypto&&(y=window.msCrypto),!y&&typeof A!="undefined"&&A.crypto&&(y=A.crypto),!y&&typeof rt=="function")try{y=require("crypto")}catch{}var D=function(){if(y){if(typeof y.getRandomValues=="function")try{return y.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof y.randomBytes=="function")try{return y.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},h=Object.create||function(){function e(){}return function(o){var c;return e.prototype=o,c=new e,e.prototype=null,c}}(),x={},t=x.lib={},F=t.Base=function(){return{extend:function(e){var o=h(this);return e&&o.mixIn(e),(!o.hasOwnProperty("init")||this.init===o.init)&&(o.init=function(){o.$super.init.apply(this,arguments)}),o.init.prototype=o,o.$super=this,o},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var o in e)e.hasOwnProperty(o)&&(this[o]=e[o]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),v=t.WordArray=F.extend({init:function(e,o){e=this.words=e||[],o!=k?this.sigBytes=o:this.sigBytes=e.length*4},toString:function(e){return(e||_).stringify(this)},concat:function(e){var o=this.words,c=e.words,d=this.sigBytes,p=e.sigBytes;if(this.clamp(),d%4)for(var w=0;w<p;w++){var S=c[w>>>2]>>>24-w%4*8&255;o[d+w>>>2]|=S<<24-(d+w)%4*8}else for(var E=0;E<p;E+=4)o[d+E>>>2]=c[E>>>2];return this.sigBytes+=p,this},clamp:function(){var e=this.words,o=this.sigBytes;e[o>>>2]&=4294967295<<32-o%4*8,e.length=b.ceil(o/4)},clone:function(){var e=F.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var o=[],c=0;c<e;c+=4)o.push(D());return new v.init(o,e)}}),m=x.enc={},_=m.Hex={stringify:function(e){for(var o=e.words,c=e.sigBytes,d=[],p=0;p<c;p++){var w=o[p>>>2]>>>24-p%4*8&255;d.push((w>>>4).toString(16)),d.push((w&15).toString(16))}return d.join("")},parse:function(e){for(var o=e.length,c=[],d=0;d<o;d+=2)c[d>>>3]|=parseInt(e.substr(d,2),16)<<24-d%8*4;return new v.init(c,o/2)}},B=m.Latin1={stringify:function(e){for(var o=e.words,c=e.sigBytes,d=[],p=0;p<c;p++){var w=o[p>>>2]>>>24-p%4*8&255;d.push(String.fromCharCode(w))}return d.join("")},parse:function(e){for(var o=e.length,c=[],d=0;d<o;d++)c[d>>>2]|=(e.charCodeAt(d)&255)<<24-d%4*8;return new v.init(c,o)}},f=m.Utf8={stringify:function(e){try{return decodeURIComponent(escape(B.stringify(e)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(e){return B.parse(unescape(encodeURIComponent(e)))}},g=t.BufferedBlockAlgorithm=F.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(e){typeof e=="string"&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var o,c=this._data,d=c.words,p=c.sigBytes,w=this.blockSize,S=w*4,E=p/S;e?E=b.ceil(E):E=b.max((E|0)-this._minBufferSize,0);var C=E*w,$=b.min(C*4,p);if(C){for(var I=0;I<C;I+=w)this._doProcessBlock(d,I);o=d.splice(0,C),c.sigBytes-=$}return new v.init(o,$)},clone:function(){var e=F.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});t.Hasher=g.extend({cfg:F.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var o=this._doFinalize();return o},blockSize:16,_createHelper:function(e){return function(o,c){return new e.init(c).finalize(o)}},_createHmacHelper:function(e){return function(o,c){return new z.HMAC.init(e,c).finalize(o)}}});var z=x.algo={};return x}(Math);return i})})(Q);(function(l,a){(function(i,b){l.exports=b(Q.exports)})(A,function(i){return function(b){var k=i,y=k.lib,D=y.WordArray,h=y.Hasher,x=k.algo,t=[];(function(){for(var f=0;f<64;f++)t[f]=b.abs(b.sin(f+1))*4294967296|0})();var F=x.MD5=h.extend({_doReset:function(){this._hash=new D.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(f,g){for(var z=0;z<16;z++){var e=g+z,o=f[e];f[e]=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360}var c=this._hash.words,d=f[g+0],p=f[g+1],w=f[g+2],S=f[g+3],E=f[g+4],C=f[g+5],$=f[g+6],I=f[g+7],R=f[g+8],H=f[g+9],T=f[g+10],W=f[g+11],M=f[g+12],P=f[g+13],j=f[g+14],L=f[g+15],u=c[0],n=c[1],r=c[2],s=c[3];u=v(u,n,r,s,d,7,t[0]),s=v(s,u,n,r,p,12,t[1]),r=v(r,s,u,n,w,17,t[2]),n=v(n,r,s,u,S,22,t[3]),u=v(u,n,r,s,E,7,t[4]),s=v(s,u,n,r,C,12,t[5]),r=v(r,s,u,n,$,17,t[6]),n=v(n,r,s,u,I,22,t[7]),u=v(u,n,r,s,R,7,t[8]),s=v(s,u,n,r,H,12,t[9]),r=v(r,s,u,n,T,17,t[10]),n=v(n,r,s,u,W,22,t[11]),u=v(u,n,r,s,M,7,t[12]),s=v(s,u,n,r,P,12,t[13]),r=v(r,s,u,n,j,17,t[14]),n=v(n,r,s,u,L,22,t[15]),u=m(u,n,r,s,p,5,t[16]),s=m(s,u,n,r,$,9,t[17]),r=m(r,s,u,n,W,14,t[18]),n=m(n,r,s,u,d,20,t[19]),u=m(u,n,r,s,C,5,t[20]),s=m(s,u,n,r,T,9,t[21]),r=m(r,s,u,n,L,14,t[22]),n=m(n,r,s,u,E,20,t[23]),u=m(u,n,r,s,H,5,t[24]),s=m(s,u,n,r,j,9,t[25]),r=m(r,s,u,n,S,14,t[26]),n=m(n,r,s,u,R,20,t[27]),u=m(u,n,r,s,P,5,t[28]),s=m(s,u,n,r,w,9,t[29]),r=m(r,s,u,n,I,14,t[30]),n=m(n,r,s,u,M,20,t[31]),u=_(u,n,r,s,C,4,t[32]),s=_(s,u,n,r,R,11,t[33]),r=_(r,s,u,n,W,16,t[34]),n=_(n,r,s,u,j,23,t[35]),u=_(u,n,r,s,p,4,t[36]),s=_(s,u,n,r,E,11,t[37]),r=_(r,s,u,n,I,16,t[38]),n=_(n,r,s,u,T,23,t[39]),u=_(u,n,r,s,P,4,t[40]),s=_(s,u,n,r,d,11,t[41]),r=_(r,s,u,n,S,16,t[42]),n=_(n,r,s,u,$,23,t[43]),u=_(u,n,r,s,H,4,t[44]),s=_(s,u,n,r,M,11,t[45]),r=_(r,s,u,n,L,16,t[46]),n=_(n,r,s,u,w,23,t[47]),u=B(u,n,r,s,d,6,t[48]),s=B(s,u,n,r,I,10,t[49]),r=B(r,s,u,n,j,15,t[50]),n=B(n,r,s,u,C,21,t[51]),u=B(u,n,r,s,M,6,t[52]),s=B(s,u,n,r,S,10,t[53]),r=B(r,s,u,n,T,15,t[54]),n=B(n,r,s,u,p,21,t[55]),u=B(u,n,r,s,R,6,t[56]),s=B(s,u,n,r,L,10,t[57]),r=B(r,s,u,n,$,15,t[58]),n=B(n,r,s,u,P,21,t[59]),u=B(u,n,r,s,E,6,t[60]),s=B(s,u,n,r,W,10,t[61]),r=B(r,s,u,n,w,15,t[62]),n=B(n,r,s,u,H,21,t[63]),c[0]=c[0]+u|0,c[1]=c[1]+n|0,c[2]=c[2]+r|0,c[3]=c[3]+s|0},_doFinalize:function(){var f=this._data,g=f.words,z=this._nDataBytes*8,e=f.sigBytes*8;g[e>>>5]|=128<<24-e%32;var o=b.floor(z/4294967296),c=z;g[(e+64>>>9<<4)+15]=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360,g[(e+64>>>9<<4)+14]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360,f.sigBytes=(g.length+1)*4,this._process();for(var d=this._hash,p=d.words,w=0;w<4;w++){var S=p[w];p[w]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return d},clone:function(){var f=h.clone.call(this);return f._hash=this._hash.clone(),f}});function v(f,g,z,e,o,c,d){var p=f+(g&z|~g&e)+o+d;return(p<<c|p>>>32-c)+g}function m(f,g,z,e,o,c,d){var p=f+(g&e|z&~e)+o+d;return(p<<c|p>>>32-c)+g}function _(f,g,z,e,o,c,d){var p=f+(g^z^e)+o+d;return(p<<c|p>>>32-c)+g}function B(f,g,z,e,o,c,d){var p=f+(z^(g|~e))+o+d;return(p<<c|p>>>32-c)+g}k.MD5=h._createHelper(F),k.HmacMD5=h._createHmacHelper(F)}(Math),i.MD5})})(K);var st=K.exports;const Z="db5",it={operations:[],timeMove:"",timeCars:"",timeIdle:""};function at(l,a){const i=a>>>3,b=a&7;return l[i]&1<<b?1:0}function J(l,a,i){let b=0;for(let k=0;k<i;k++)b|=at(l,a+k)<<k;return b}const ct=nt({id:"mainStore",state:()=>({time:"00:00",color:"green",mals:{engine:"\u2014",radio:0,control:!1,nocontrolSwitch:!1,vagonControl:!1,workplace:!1,malfunction:!1,dspstop:!1,soststop:!1,braking:!1},field:V({hash:"",states:"",statesBuffer:new Uint8Array}),in:{type:"\u2014",control:!1,reversor:0,pk:0,kv:0,epk:!1,diesel:!1,rb:!1,boks:!1},sensors:{di_run:0,di_v:0,di_a:0,dd_cyl:0,dd_mag:0,dd_urv:0,dt:0},route:{zones:[{route:"free-way",lastbuid:null,headbuid:null,lightid:0,lightcolor:null,lightunforbid:!1,vagons:0,sd:0,vd:0,vt:0},{route:"free-way",lastbuid:null,headbuid:null,lightid:0,lightcolor:null,lightunforbid:!1,vagons:0,sd:0,vd:0,vt:0}],bu:[]},model:V({id:{},lights:{items:[]},hash:""}),process:it,buttons:{cruise:!1,pull:!1},plan:{id:"",open:0,operationID:null,stageID:null,operations:[]}}),getters:{getDirection(){return this.sensors.di_v!==0?this.sensors.di_v>0:this.in.reversor>=0},getSpeed(){if(this.route.zones.length>1){const l=this.getDirection?1:0;return{current:Math.round(Math.abs(this.sensors.di_v)),limit:Math.round(this.route.zones[l].vd),target:Math.round(this.route.zones[l].vt)}}return{current:0,limit:0,target:0}},getSignalColorByID:l=>a=>{let i="none";if(l.model.id[a]&&l.model.id){const{bits:b}=l.model.id[a];switch(J(l.field.statesBuffer,b[0],b[1])){case 0:i="blue";break;case 1:i="white";break;case 2:i="blue";break;case 3:i="blue";break;case 4:i="red";break;case 5:i="yellow";break;case 6:i="yellow";break;case 7:i="green";break;default:i="blue"}}return i},getSignalColor(){if(this.route.zones.length>1){const l=this.getDirection?1:0;return this.getSignalColorByID(this.route.zones[l].lightid)}return"none"},getZoneFront(){if(this.route.zones.length>1){const l=(()=>{var b,k;return this.route.zones[0].endtype==="light"?((b=this.model.id[this.route.zones[1].lightid])==null?void 0:b.name)||"?":this.route.zones[0].endtype==="section"&&((k=this.model.id[this.route.zones[1].lastbuid])==null?void 0:k.name)||"?"})();let a="\u2014";const i=this.route.zones[1].sd;switch(this.route.zones[1].route){case"behind-light":a=`\u0437\u0430 ${l}`;break;case"before-light":a=`${l}`;break;case"shunt-way":a=`\u043D\u0430 \u0437\u0430\u043D\u044F\u0442\u044B\u0439 ${l}`;break;case"deadend":a="\u0432 \u0442\u0443\u043F\u0438\u043A";break;case"free-way":a=`\u043D\u0430 \u043F\u0443\u0442\u044C ${l}`;break;case"span":a="\u043D\u0430 \u043F\u0435\u0440\u0435\u0433\u043E\u043D";break;case"away":a="\u0437\u0430 \u043F\u0440\u0435\u0434\u0435\u043B\u044B \u0441\u0442\u0430\u043D\u0446\u0438\u0438";break;case"mount-pull":a=`\u043F\u043E\u0434\u0442\u044F\u0433. ${l}`;break;case"mount-push":a=`\u043D\u0430\u0434\u0432. ${l}`;break;case"mount-sort":a=`\u0440\u043E\u0441\u043F. ${l}`;break;case"mount-back":a=`\u043E\u0441\u0430\u0436. ${l}`;break;case"none":a="\u043D\u0435\u0442";break;default:a=this.route.zones[1].route}return{text:a,distance:i}}return{text:"\u2014",distance:0}},getZoneBack(){if(this.route.zones.length>1){const l=(()=>{var b,k;return this.route.zones[0].endtype==="light"?((b=this.model.id[this.route.zones[0].lightid])==null?void 0:b.name)||"?":this.route.zones[0].endtype==="section"&&((k=this.model.id[this.route.zones[0].lastbuid])==null?void 0:k.name)||"?"})();let a="\u2014";const i=this.route.zones[0].sd;switch(this.route.zones[0].route){case"behind-light":a=`\u0437\u0430 ${l}`;break;case"before-light":a=`${l}`;break;case"shunt-way":a=`\u043D\u0430 \u0437\u0430\u043D\u044F\u0442\u044B\u0439 ${l}`;break;case"deadend":a="\u0432 \u0442\u0443\u043F\u0438\u043A";break;case"free-way":a=`\u043D\u0430 \u043F\u0443\u0442\u044C ${l}`;break;case"span":a="\u043D\u0430 \u043F\u0435\u0440\u0435\u0433\u043E\u043D";break;case"away":a="\u0437\u0430 \u043F\u0440\u0435\u0434\u0435\u043B\u044B \u0441\u0442\u0430\u043D\u0446\u0438\u0438";break;case"mount-pull":a=`\u043F\u043E\u0434\u0442\u044F\u0433. ${l}`;break;case"mount-push":a=`\u043D\u0430\u0434\u0432. ${l}`;break;case"mount-sort":a=`\u0440\u043E\u0441\u043F. ${l}`;break;case"mount-back":a=`\u043E\u0441\u0430\u0436. ${l}`;break;case"none":a="\u043D\u0435\u0442";break;default:a=this.route.zones[0].route}return{text:a,distance:i}}return{text:"\u2014",distance:0}}},actions:{updateTime(){const l=new Date;this.time=`${String(l.getHours()).padStart(2,"0")}:${String(l.getMinutes()).padStart(2,"0")}`},openOperation(l){this.plan.open===l?this.plan.open=-1:this.plan.open=l},async fetchCycle(l){try{const{data:a}=await N.get(`/${Z}/now?engines_version=2`),i=a.engines.find(D=>D.mals.engine==l);a.field.hash!==this.model.hash&&await this.fetchModel(),this.mals.engine=i.mals.engine,i.mals.radio.timeout<=3?this.mals.radio=4:i.mals.radio.timeout<=6?this.mals.radio=3:i.mals.radio.timeout<=9?this.mals.radio=2:i.mals.radio.timeout<=12?this.mals.radio=1:i.mals.radio.timeout<=15&&(this.mals.radio=0),this.mals.control=i.mals.control,this.mals.nocontrolSwitch=i.mals.nocontrol_switch,this.mals.vagonControl=i.mals.vagon_control,this.mals.workplace=i.mals.workplace,this.mals.malfunction=i.mals.malfunction,this.mals.dspstop=i.mals.dspstop,this.mals.soststop=i.mals.soststop,this.mals.braking=i.mals.braking||!1,this.field=q(U({},a.field),{statesBuffer:Uint8Array.from(window.atob(a.field.states),D=>D.charCodeAt(0))}),this.in=i.in,this.sensors=i.sensors,this.route.zones=i.route.zones,this.route.bu.splice(0,this.route.bu.length);let b=null,k=0;if(i.route.rails.zone)for(let D=0;D<i.route.rails.zone.length;D++){const h=i.route.rails.zone[D],x=this.model.id[h],{buId:t}=x;let F="noControl";if(t){const{bits:v}=this.model.id[t],m=J(this.field.statesBuffer,v[0],v[1]),_=Boolean(m&1),B=Boolean((m&2)>>1),f=Boolean((m&4)>>2),g=Boolean((m&8)>>3);_?B?F="shunt":f?g?F="train-route":F="route":F="free":F="no-control"}if(t!==b&&this.route.bu.push({state:F,buId:t,length:0,headSrc:null,headDst:null,engine:null}),h===i.route.rails.head_dst[0]&&(this.route.bu[this.route.bu.length-1].headDst=i.route.rails.head_dst[1]+this.route.bu[this.route.bu.length-1].length),h===i.route.rails.head_src[0]&&(this.route.bu[this.route.bu.length-1].headSrc=i.route.rails.head_src[1]+this.route.bu[this.route.bu.length-1].length),h===i.position.railid&&(this.route.bu[this.route.bu.length-1].engine=i.position.raildist+this.route.bu[this.route.bu.length-1].length),this.route.bu[this.route.bu.length-1].length+=x.length,x.srcType==="\u0441\u0442\u044B\u043A"){const{srcId:v}=x,m=this.model.lights.items.find(_=>_.jointId===v&&_.railId===h);m&&(this.route.bu[this.route.bu.length-1].srcSignal=this.getSignalColorByID(m.id),this.route.bu[this.route.bu.length-1].srcName=m.name)}if(x.dstType==="\u0441\u0442\u044B\u043A"){const{dstId:v}=x,m=this.model.lights.items.find(_=>_.jointId===v&&_.railId===h);m&&(this.route.bu[this.route.bu.length-1].dstSignal=this.getSignalColorByID(m.id),this.route.bu[this.route.bu.length-1].dstName=m.name)}b=t}i.plan.plan_id!==this.plan.id&&await this.fetchPlan(l),this.plan.operationID=i.plan.oper_id,this.plan.stageID=i.plan.stage_id;let y=!0;for(let D=0;D<this.plan.operations.length;D++){const h=this.plan.operations[D];for(let x=0;x<h.stages.length;x++){const t=h.stages[x];(this.plan.operationID===null||t.id===this.plan.stageID)&&(y=!1,h.progress=((x+1)/h.stages.length-.5/h.stages.length)*100),t.finished=y}h.finished=h.stages[h.stages.length-1].finished,h.finished&&(h.progress=100)}}catch(a){console.log(a)}},async fetchModel(){try{const l=["parks","points","joints","switches","bu","lights","rails"],{data:a}=await N.get(`/${Z}/field/model`);a.hash=st(JSON.stringify(a)).toString(),a.id={},l.forEach(i=>{a[i].items.forEach(b=>{a.id[b.id]=q(U({},b),{objectType:i})})}),this.model=a}catch(l){console.log(l)}},async fetchPlan(l){var a,i,b,k;try{const{data:y}=await N.get(`/db5/plan?engine=${l}`);for(let D=0;D<y.data.operations.length;D++){const h=y.data.operations[D];switch(h.type){case"arrival":h.text="\u041F\u0440\u0438\u0431\u044B\u0442\u0438\u0435";break;case"departure":h.text="\u041E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435";break;case"cars_coupling":h.text="\u041F\u0440\u0438\u0446\u0435\u043F\u043A\u0430 \u0432\u0430\u0433\u043E\u043D\u043E\u0432";break;case"cars_uncoupling":h.text="\u041E\u0442\u0446\u0435\u043F\u043A\u0430 \u0432\u0430\u0433\u043E\u043D\u043E\u0432";break;case"engine_coupling":h.text="\u041F\u0440\u0438\u0446\u0435\u043F\u043A\u0430 \u043B\u043E\u043A\u043E\u043C\u043E\u0442\u0438\u0432\u0430";break;case"engine_uncoupling":h.text="\u041E\u0442\u0446\u0435\u043F\u043A\u0430 \u043B\u043E\u043A\u043E\u043C\u043E\u0442\u0438\u0432\u0430";break;case"forming":h.text="\u0424\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435";break;case"splitting":h.text=`\u0420\u0430\u0441\u0444\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0441\u043E\u0441\u0442\u0430\u0432\u0430 \u0438\u0437 \u043F\u0430\u0440\u043A\u0430 ${h.yardFrom} c \u043F\u0443\u0442\u0438 ${h.wayFrom} \u0432 \u043F\u0430\u0440\u043A ${h.yardWhere}`;break;case"feeding":h.text="\u041F\u043E\u0434\u0430\u0447\u0430";break;case"picking":h.text="\u0423\u0431\u043E\u0440\u043A\u0430";break;case"placement":h.text="\u0412\u044B\u0441\u0442\u0430\u0432\u043A\u0430";break;case"relocation":h.text="\u041F\u0435\u0440\u0435\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430";break;default:h.text=h.type}for(let x=0;x<h.stages.length;x++){const t=h.stages[x];switch(t.type){case"coupling":t.text="\u0421\u0446\u0435\u043F\u043A\u0430";break;case"uncoupling":t.text="\u041E\u0442\u0446\u0435\u043F\u043A\u0430";break;case"route":t.text="\u041C\u0430\u0440\u0448\u0440\u0443\u0442",(a=t.bu_id)!=null&&a.start&&(t.text+=` c ${(i=t.bu_id)==null?void 0:i.start}`),(b=t.bu_id)!=null&&b.end&&(t.text+=` \u043D\u0430 ${(k=t.bu_id)==null?void 0:k.end}`);break;case"idle":t.text="\u041E\u0436\u0438\u0434\u0430\u043D\u0438\u0435";break;case"pulling":t.text="\u041F\u043E\u0434\u0442\u044F\u0433\u0438\u0432\u0430\u043D\u0438\u0435";break;case"thrust":t.text="\u041D\u0430\u0434\u0432\u0438\u0433";break;case"dissolution":t.text="\u0420\u043E\u0441\u043F\u0443\u0441\u043A";break;default:t.text=t.type}if(t.route_type==="before_light"&&t.light_id){const F=this.model.id[t.light_id];F&&F.name&&(t.text+=` \u0434\u043E ${F.name}`)}t.finished=!1}h.finished=!1}this.plan.id=y.data.id,this.plan.operations.splice(0,this.plan.operations),this.plan.operations=y.data.operations}catch(y){console.log(y)}}}});export{ct as u};
