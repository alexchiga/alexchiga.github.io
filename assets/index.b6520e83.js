var X=Object.defineProperty,Y=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var et=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable;var G=(a,f,u)=>f in a?X(a,f,{enumerable:!0,configurable:!0,writable:!0,value:u}):a[f]=u,q=(a,f)=>{for(var u in f||(f={}))et.call(f,u)&&G(a,u,f[u]);if(Z)for(var u of Z(f))nt.call(f,u)&&G(a,u,f[u]);return a},O=(a,f)=>Y(a,tt(f));import{f as st,s as V,g as U}from"./index.9b8dd2ab.js";var z=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function it(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var N={exports:{}},Q={exports:{}};(function(a,f){(function(u,d){a.exports=d()})(z,function(){var u=u||function(d,D){var c;if(typeof window!="undefined"&&window.crypto&&(c=window.crypto),typeof self!="undefined"&&self.crypto&&(c=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(c=globalThis.crypto),!c&&typeof window!="undefined"&&window.msCrypto&&(c=window.msCrypto),!c&&typeof z!="undefined"&&z.crypto&&(c=z.crypto),!c&&typeof it=="function")try{c=require("crypto")}catch{}var B=function(){if(c){if(typeof c.getRandomValues=="function")try{return c.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof c.randomBytes=="function")try{return c.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},h=Object.create||function(){function t(){}return function(o){var l;return t.prototype=o,l=new t,t.prototype=null,l}}(),v={},e=v.lib={},E=e.Base=function(){return{extend:function(t){var o=h(this);return t&&o.mixIn(t),(!o.hasOwnProperty("init")||this.init===o.init)&&(o.init=function(){o.$super.init.apply(this,arguments)}),o.init.prototype=o,o.$super=this,o},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var o in t)t.hasOwnProperty(o)&&(this[o]=t[o]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),w=e.WordArray=E.extend({init:function(t,o){t=this.words=t||[],o!=D?this.sigBytes=o:this.sigBytes=t.length*4},toString:function(t){return(t||_).stringify(this)},concat:function(t){var o=this.words,l=t.words,p=this.sigBytes,b=t.sigBytes;if(this.clamp(),p%4)for(var k=0;k<b;k++){var F=l[k>>>2]>>>24-k%4*8&255;o[p+k>>>2]|=F<<24-(p+k)%4*8}else for(var C=0;C<b;C+=4)o[p+C>>>2]=l[C>>>2];return this.sigBytes+=b,this},clamp:function(){var t=this.words,o=this.sigBytes;t[o>>>2]&=4294967295<<32-o%4*8,t.length=d.ceil(o/4)},clone:function(){var t=E.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var o=[],l=0;l<t;l+=4)o.push(B());return new w.init(o,t)}}),y=v.enc={},_=y.Hex={stringify:function(t){for(var o=t.words,l=t.sigBytes,p=[],b=0;b<l;b++){var k=o[b>>>2]>>>24-b%4*8&255;p.push((k>>>4).toString(16)),p.push((k&15).toString(16))}return p.join("")},parse:function(t){for(var o=t.length,l=[],p=0;p<o;p+=2)l[p>>>3]|=parseInt(t.substr(p,2),16)<<24-p%8*4;return new w.init(l,o/2)}},x=y.Latin1={stringify:function(t){for(var o=t.words,l=t.sigBytes,p=[],b=0;b<l;b++){var k=o[b>>>2]>>>24-b%4*8&255;p.push(String.fromCharCode(k))}return p.join("")},parse:function(t){for(var o=t.length,l=[],p=0;p<o;p++)l[p>>>2]|=(t.charCodeAt(p)&255)<<24-p%4*8;return new w.init(l,o)}},g=y.Utf8={stringify:function(t){try{return decodeURIComponent(escape(x.stringify(t)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(t){return x.parse(unescape(encodeURIComponent(t)))}},m=e.BufferedBlockAlgorithm=E.extend({reset:function(){this._data=new w.init,this._nDataBytes=0},_append:function(t){typeof t=="string"&&(t=g.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var o,l=this._data,p=l.words,b=l.sigBytes,k=this.blockSize,F=k*4,C=b/F;t?C=d.ceil(C):C=d.max((C|0)-this._minBufferSize,0);var I=C*k,A=d.min(I*4,b);if(I){for(var T=0;T<I;T+=k)this._doProcessBlock(p,T);o=p.splice(0,I),l.sigBytes-=A}return new w.init(o,A)},clone:function(){var t=E.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});e.Hasher=m.extend({cfg:E.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var o=this._doFinalize();return o},blockSize:16,_createHelper:function(t){return function(o,l){return new t.init(l).finalize(o)}},_createHmacHelper:function(t){return function(o,l){return new S.HMAC.init(t,l).finalize(o)}}});var S=v.algo={};return v}(Math);return u})})(Q);(function(a,f){(function(u,d){a.exports=d(Q.exports)})(z,function(u){return function(d){var D=u,c=D.lib,B=c.WordArray,h=c.Hasher,v=D.algo,e=[];(function(){for(var g=0;g<64;g++)e[g]=d.abs(d.sin(g+1))*4294967296|0})();var E=v.MD5=h.extend({_doReset:function(){this._hash=new B.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,m){for(var S=0;S<16;S++){var t=m+S,o=g[t];g[t]=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360}var l=this._hash.words,p=g[m+0],b=g[m+1],k=g[m+2],F=g[m+3],C=g[m+4],I=g[m+5],A=g[m+6],T=g[m+7],$=g[m+8],R=g[m+9],H=g[m+10],j=g[m+11],W=g[m+12],M=g[m+13],P=g[m+14],L=g[m+15],n=l[0],s=l[1],i=l[2],r=l[3];n=w(n,s,i,r,p,7,e[0]),r=w(r,n,s,i,b,12,e[1]),i=w(i,r,n,s,k,17,e[2]),s=w(s,i,r,n,F,22,e[3]),n=w(n,s,i,r,C,7,e[4]),r=w(r,n,s,i,I,12,e[5]),i=w(i,r,n,s,A,17,e[6]),s=w(s,i,r,n,T,22,e[7]),n=w(n,s,i,r,$,7,e[8]),r=w(r,n,s,i,R,12,e[9]),i=w(i,r,n,s,H,17,e[10]),s=w(s,i,r,n,j,22,e[11]),n=w(n,s,i,r,W,7,e[12]),r=w(r,n,s,i,M,12,e[13]),i=w(i,r,n,s,P,17,e[14]),s=w(s,i,r,n,L,22,e[15]),n=y(n,s,i,r,b,5,e[16]),r=y(r,n,s,i,A,9,e[17]),i=y(i,r,n,s,j,14,e[18]),s=y(s,i,r,n,p,20,e[19]),n=y(n,s,i,r,I,5,e[20]),r=y(r,n,s,i,H,9,e[21]),i=y(i,r,n,s,L,14,e[22]),s=y(s,i,r,n,C,20,e[23]),n=y(n,s,i,r,R,5,e[24]),r=y(r,n,s,i,P,9,e[25]),i=y(i,r,n,s,F,14,e[26]),s=y(s,i,r,n,$,20,e[27]),n=y(n,s,i,r,M,5,e[28]),r=y(r,n,s,i,k,9,e[29]),i=y(i,r,n,s,T,14,e[30]),s=y(s,i,r,n,W,20,e[31]),n=_(n,s,i,r,I,4,e[32]),r=_(r,n,s,i,$,11,e[33]),i=_(i,r,n,s,j,16,e[34]),s=_(s,i,r,n,P,23,e[35]),n=_(n,s,i,r,b,4,e[36]),r=_(r,n,s,i,C,11,e[37]),i=_(i,r,n,s,T,16,e[38]),s=_(s,i,r,n,H,23,e[39]),n=_(n,s,i,r,M,4,e[40]),r=_(r,n,s,i,p,11,e[41]),i=_(i,r,n,s,F,16,e[42]),s=_(s,i,r,n,A,23,e[43]),n=_(n,s,i,r,R,4,e[44]),r=_(r,n,s,i,W,11,e[45]),i=_(i,r,n,s,L,16,e[46]),s=_(s,i,r,n,k,23,e[47]),n=x(n,s,i,r,p,6,e[48]),r=x(r,n,s,i,T,10,e[49]),i=x(i,r,n,s,P,15,e[50]),s=x(s,i,r,n,I,21,e[51]),n=x(n,s,i,r,W,6,e[52]),r=x(r,n,s,i,F,10,e[53]),i=x(i,r,n,s,H,15,e[54]),s=x(s,i,r,n,b,21,e[55]),n=x(n,s,i,r,$,6,e[56]),r=x(r,n,s,i,L,10,e[57]),i=x(i,r,n,s,A,15,e[58]),s=x(s,i,r,n,M,21,e[59]),n=x(n,s,i,r,C,6,e[60]),r=x(r,n,s,i,j,10,e[61]),i=x(i,r,n,s,k,15,e[62]),s=x(s,i,r,n,R,21,e[63]),l[0]=l[0]+n|0,l[1]=l[1]+s|0,l[2]=l[2]+i|0,l[3]=l[3]+r|0},_doFinalize:function(){var g=this._data,m=g.words,S=this._nDataBytes*8,t=g.sigBytes*8;m[t>>>5]|=128<<24-t%32;var o=d.floor(S/4294967296),l=S;m[(t+64>>>9<<4)+15]=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360,m[(t+64>>>9<<4)+14]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360,g.sigBytes=(m.length+1)*4,this._process();for(var p=this._hash,b=p.words,k=0;k<4;k++){var F=b[k];b[k]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return p},clone:function(){var g=h.clone.call(this);return g._hash=this._hash.clone(),g}});function w(g,m,S,t,o,l,p){var b=g+(m&S|~m&t)+o+p;return(b<<l|b>>>32-l)+m}function y(g,m,S,t,o,l,p){var b=g+(m&t|S&~t)+o+p;return(b<<l|b>>>32-l)+m}function _(g,m,S,t,o,l,p){var b=g+(m^S^t)+o+p;return(b<<l|b>>>32-l)+m}function x(g,m,S,t,o,l,p){var b=g+(S^(m|~t))+o+p;return(b<<l|b>>>32-l)+m}D.MD5=h._createHelper(E),D.HmacMD5=h._createHmacHelper(E)}(Math),u.MD5})})(N);var rt=N.exports;const J="db5",ut={operations:[],timeMove:"",timeCars:"",timeIdle:""};function ot(a,f){const u=f>>>3,d=f&7;return a[u]&1<<d?1:0}function K(a,f,u){let d=0;for(let D=0;D<u;D++)d|=ot(a,f+D)<<D;return d}const ct=st({id:"mainStore",state:()=>({time:{system:new Date,delta:5*6e4},color:"green",mals:{engine:"\u2014",radio:0,control:!1,nocontrolSwitch:!1,vagonControl:!1,workplace:!1,malfunction:!1,dspstop:!1,soststop:!1,braking:!1},field:V({hash:"",states:"",statesBuffer:new Uint8Array}),in:{type:"\u2014",control:!1,reversor:0,pk:0,kv:0,epk:!1,diesel:!1,rb:!1,boks:!1},sensors:{di_run:0,di_v:0,di_a:0,dd_cyl:0,dd_mag:0,dd_urv:0,dt:0},route:{zones:[],bu:[],headDst:0,headSrc:0},model:V({id:{},lights:{items:[]},hash:""}),process:ut,buttons:{cruise:!1,pull:!1},plan:{id:"",open:0,operationID:null,stageID:null,operations:[]},windows:{engines:!1,call:!1},engines:[]}),getters:{getDirection(){return this.sensors.di_v!==0?this.sensors.di_v>0:this.in.reversor>=0},getSpeed(){if(this.route.zones.length>1){const a=this.getDirection?1:0;return{current:Math.round(Math.abs(this.sensors.di_v)),limit:Math.round(this.route.zones[a].vd),target:Math.round(this.route.zones[a].vt)}}return{current:0,limit:0,target:0}},getSignalColorByID:a=>f=>{let u="none";if(a.model.id[f]&&a.model.id){const{bits:d}=a.model.id[f];switch(K(a.field.statesBuffer,d[0],d[1])){case 0:u="blue";break;case 1:u="white";break;case 2:u="blue";break;case 3:u="blue";break;case 4:u="red";break;case 5:u="yellow";break;case 6:u="yellow";break;case 7:u="green";break;default:u="blue"}}return u},getSignalColor(){if(this.route.zones.length>1){const a=this.getDirection?1:0;return this.getSignalColorByID(this.route.zones[a].lightid)}return"none"},getZone:a=>f=>{if(a.route.zones.length>1){const u=(()=>{var B,h;return a.route.zones[f].endtype==="light"?((B=a.model.id[a.route.zones[f].lightid])==null?void 0:B.name)||"?":a.route.zones[f].endtype==="section"&&((h=a.model.id[a.route.zones[f].lastbuid])==null?void 0:h.name)||"?"})();let d="\u2014";const D=a.route.zones[f].sd,c=Math.round(a.route.zones[f].vd);switch(a.route.zones[f].route){case"behind-light":d=`\u0437\u0430 ${u}`;break;case"before-light":d=`\u0434\u043E ${u}`;break;case"shunt-way":d=`\u043D\u0430 \u0437\u0430\u043D\u044F\u0442\u044B\u0439 ${u}`;break;case"deadend":d="\u0432 \u0442\u0443\u043F\u0438\u043A";break;case"free-way":d=`\u043D\u0430 \u043F\u0443\u0442\u044C ${u}`;break;case"span":d="\u043D\u0430 \u043F\u0435\u0440\u0435\u0433\u043E\u043D";break;case"away":d="\u0437\u0430 \u043F\u0440\u0435\u0434\u0435\u043B\u044B";break;case"mount-pull":d=`\u043F\u043E\u0434\u0442\u044F\u0433\u0438\u0432\u0430\u043D\u0438\u0435 ${u}`;break;case"mount-push":d=`\u043D\u0430\u0434\u0432\u0438\u0433 ${u}`;break;case"mount-sort":d=`\u0440\u043E\u0441\u043F\u0443\u0441\u043A ${u}`;break;case"mount-back":d=`\u043E\u0441\u0430\u0436\u0438\u0432\u0430\u043D\u0438\u0435 ${u}`;break;case"none":d="\u043D\u0435\u0442";break;default:d=a.route.zones[f].route}return{text:d,distance:D,limit:c}}return{text:"\u2014",distance:0,limit:0}},getZoneFront(){return this.getZone(1)},getZoneBack(){return this.getZone(0)},getTime(){const a=new Date(this.time.system.getTime()+this.time.delta);return`${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`}},actions:{updateTime(){this.time.system=new Date},openOperation(a){this.plan.open===a?this.plan.open=-1:this.plan.open=a},async fetchCycle(a){try{const{data:f}=await U.get(`/${J}/now?engines_version=2`),u=f.engines.find(c=>c.mals.engine==a);f.field.hash!==this.model.hash&&await this.fetchModel(),this.mals.engine=u.mals.engine,u.mals.radio.timeout<=3?this.mals.radio=4:u.mals.radio.timeout<=6?this.mals.radio=3:u.mals.radio.timeout<=9?this.mals.radio=2:u.mals.radio.timeout<=12?this.mals.radio=1:u.mals.radio.timeout<=15&&(this.mals.radio=0),this.mals.control=u.mals.control,this.mals.nocontrolSwitch=u.mals.nocontrol_switch,this.mals.vagonControl=u.mals.vagon_control,this.mals.workplace=u.mals.workplace,this.mals.malfunction=u.mals.malfunction,this.mals.dspstop=u.mals.dspstop,this.mals.soststop=u.mals.soststop,this.mals.braking=u.mals.braking||!1,this.field=O(q({},f.field),{statesBuffer:Uint8Array.from(window.atob(f.field.states),c=>c.charCodeAt(0))}),this.in=u.in,this.sensors=u.sensors,this.route.zones=u.route.zones,this.route.bu.splice(0,this.route.bu.length),this.route.headDst=0,this.route.headSrc=0;let d=null;if(u.route.rails.zone){for(let h=0;h<u.route.rails.zone.length;h++){const v=u.route.rails.zone[h],e=this.model.id[v],{buId:E}=e;let w="noControl";if(E){const{bits:y}=this.model.id[E],_=K(this.field.statesBuffer,y[0],y[1]),x=Boolean(_&1),g=Boolean((_&2)>>1),m=Boolean((_&4)>>2),S=Boolean((_&8)>>3);x?g?w="shunt":m?S?w="train-route":w="route":w="free":w="no-control"}if(E!==d&&this.route.bu.push({state:w,buId:E,length:0,headSrc:null,headDst:null,engine:null}),v===u.route.rails.head_dst[0]&&(this.route.bu[this.route.bu.length-1].headDst=u.route.rails.head_dst[1]+this.route.bu[this.route.bu.length-1].length),v===u.route.rails.head_src[0]&&(this.route.bu[this.route.bu.length-1].headSrc=u.route.rails.head_src[1]+this.route.bu[this.route.bu.length-1].length),v===u.position.railid&&(this.route.bu[this.route.bu.length-1].engine=u.position.raildist+this.route.bu[this.route.bu.length-1].length),this.route.bu[this.route.bu.length-1].length+=e.length,e.srcType==="\u0441\u0442\u044B\u043A"){const{srcId:y}=e,_=this.model.lights.items.find(x=>x.jointId===y&&x.railId===v);_&&(this.route.bu[this.route.bu.length-1].srcSignal=this.getSignalColorByID(_.id),this.route.bu[this.route.bu.length-1].srcName=_.name)}if(e.dstType==="\u0441\u0442\u044B\u043A"){const{dstId:y}=e,_=this.model.lights.items.find(x=>x.jointId===y&&x.railId===v);_&&(this.route.bu[this.route.bu.length-1].dstSignal=this.getSignalColorByID(_.id),this.route.bu[this.route.bu.length-1].dstName=_.name)}d=E}const c=this.route.bu.findIndex(h=>h.headSrc!==null);if(c>=0){const h=this.route.bu[c];this.route.headSrc=(c+h.headSrc/h.length)/this.route.bu.length*100}const B=this.route.bu.findIndex(h=>h.headDst!==null);if(B>=0){const h=this.route.bu[B];this.route.headDst=(B+h.headDst/h.length)/this.route.bu.length*100}}u.plan.plan_id!==null&&u.plan.plan_id!==this.plan.id&&await this.fetchPlan(a),this.plan.operationID=u.plan.oper_id,this.plan.stageID=u.plan.stage_id;let D=!0;for(let c=0;c<this.plan.operations.length;c++){const B=this.plan.operations[c];for(let h=0;h<B.stages.length;h++){const v=B.stages[h];if(this.plan.operationID===null||v.id===this.plan.stageID)if(D=!1,this.plan.operationID!==null){const e=new Date(v.times.start),E=new Date(v.times.end);let y=(new Date(this.time.system.getTime()+this.time.delta).getTime()-e.getTime())/(E.getTime()-e.getTime());y>1&&(y=1),B.progress=(h+y)/B.stages.length*100}else B.progress=0;v.finished=D}B.finished=B.stages[B.stages.length-1].finished,B.finished&&(B.progress=100)}this.engines.splice(0,this.engines.length),f.engines.forEach(c=>{this.engines.push(c.mals.engine)})}catch(f){console.log(f)}},async fetchModel(){try{const a=["parks","points","joints","switches","bu","lights","rails"],{data:f}=await U.get(`/${J}/field/model`);f.hash=rt(JSON.stringify(f)).toString(),f.id={},a.forEach(u=>{f[u].items.forEach(d=>{f.id[d.id]=O(q({},d),{objectType:u})})}),this.model=f}catch(a){console.log(a)}},async fetchPlan(a){var f,u;try{const{data:d}=await U.get(`/db5/plan?engine=${a}`);for(let D=0;D<d.data.operations.length;D++){const c=d.data.operations[D];switch(c.type){case"arrival":c.text="\u041F\u0440\u0438\u0431\u044B\u0442\u0438\u0435";break;case"departure":c.text="\u041E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435";break;case"cars_coupling":c.text="\u041F\u0440\u0438\u0446\u0435\u043F\u043A\u0430 \u0432\u0430\u0433\u043E\u043D\u043E\u0432";break;case"cars_uncoupling":c.text="\u041E\u0442\u0446\u0435\u043F\u043A\u0430 \u0432\u0430\u0433\u043E\u043D\u043E\u0432";break;case"engine_coupling":c.text="\u041F\u0440\u0438\u0446\u0435\u043F\u043A\u0430 \u043B\u043E\u043A\u043E\u043C\u043E\u0442\u0438\u0432\u0430";break;case"engine_uncoupling":c.text="\u041E\u0442\u0446\u0435\u043F\u043A\u0430 \u043B\u043E\u043A\u043E\u043C\u043E\u0442\u0438\u0432\u0430";break;case"forming":c.text="\u0424\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435";break;case"splitting":c.text=`\u0420\u0430\u0441\u0444\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0441\u043E\u0441\u0442\u0430\u0432\u0430 c \u043F\u0443\u0442\u0438 ${c.wayFrom} \u043F\u0430\u0440\u043A\u0430 ${c.yardFrom} \u0432 \u043F\u0430\u0440\u043A ${c.yardWhere}`;break;case"feeding":c.text="\u041F\u043E\u0434\u0430\u0447\u0430";break;case"picking":c.text="\u0423\u0431\u043E\u0440\u043A\u0430";break;case"placement":c.text="\u0412\u044B\u0441\u0442\u0430\u0432\u043A\u0430";break;case"relocation":c.text="\u041F\u0435\u0440\u0435\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430";break;default:c.text=c.type}for(let B=0;B<c.stages.length;B++){const h=c.stages[B];switch(h.type){case"coupling":h.text="\u0421\u0446\u0435\u043F\u043A\u0430";break;case"uncoupling":h.text="\u041E\u0442\u0446\u0435\u043F\u043A\u0430";break;case"route":if(h.text="\u041C\u0430\u0440\u0448\u0440\u0443\u0442",(f=h.bu_id)!=null&&f.start){const v=this.model.id[h.bu_id.start];if(v.objectType==="bu")h.text+=` c ${v.name}`;else if(v.objectType==="rails"){const e=this.model.id[v.buId].name;h.text+=` c ${e}`}}if((u=h.bu_id)!=null&&u.end){const v=this.model.id[h.bu_id.end];if(v.objectType==="bu")h.text+=` c ${v.name}`;else if(v.objectType==="rails"){const e=this.model.id[v.buId].name;h.text+=` c ${e}`}}break;case"idle":h.text="\u041E\u0436\u0438\u0434\u0430\u043D\u0438\u0435";break;case"pulling":h.text="\u041F\u043E\u0434\u0442\u044F\u0433\u0438\u0432\u0430\u043D\u0438\u0435";break;case"thrust":h.text="\u041D\u0430\u0434\u0432\u0438\u0433";break;case"dissolution":h.text="\u0420\u043E\u0441\u043F\u0443\u0441\u043A";break;default:h.text=h.type}if(h.route_type==="before_light"&&h.light_id){const v=this.model.id[h.light_id];v&&v.name&&(h.text+=` \u0434\u043E ${v.name}`)}h.finished=!1}c.finished=!1}this.plan.id=d.data.id,this.plan.operations.splice(0,this.plan.operations),this.plan.operations=d.data.operations}catch(d){console.log(d)}},async fetchPlanInfo(){const{data:a}=await U.get("/db5/planinfo"),f=new Date(a.data.sysDate);this.time.delta=f.getTime()-this.time.system.getTime()}}});export{ct as u};
