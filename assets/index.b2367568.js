var X=Object.defineProperty,Y=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var et=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;var G=(l,a,i)=>a in l?X(l,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[a]=i,U=(l,a)=>{for(var i in a||(a={}))et.call(a,i)&&G(l,i,a[i]);if(O)for(var i of O(a))ut.call(a,i)&&G(l,i,a[i]);return l},q=(l,a)=>Y(l,tt(a));import{f as nt,s as V,g as N}from"./index.1ec8b1e2.js";var A=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function st(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var K={exports:{}},Q={exports:{}};(function(l,a){(function(i,m){l.exports=m()})(A,function(){var i=i||function(m,k){var g;if(typeof window!="undefined"&&window.crypto&&(g=window.crypto),typeof self!="undefined"&&self.crypto&&(g=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(g=globalThis.crypto),!g&&typeof window!="undefined"&&window.msCrypto&&(g=window.msCrypto),!g&&typeof A!="undefined"&&A.crypto&&(g=A.crypto),!g&&typeof st=="function")try{g=require("crypto")}catch{}var w=function(){if(g){if(typeof g.getRandomValues=="function")try{return g.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof g.randomBytes=="function")try{return g.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},d=Object.create||function(){function e(){}return function(o){var c;return e.prototype=o,c=new e,e.prototype=null,c}}(),D={},t=D.lib={},F=t.Base=function(){return{extend:function(e){var o=d(this);return e&&o.mixIn(e),(!o.hasOwnProperty("init")||this.init===o.init)&&(o.init=function(){o.$super.init.apply(this,arguments)}),o.init.prototype=o,o.$super=this,o},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var o in e)e.hasOwnProperty(o)&&(this[o]=e[o]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),v=t.WordArray=F.extend({init:function(e,o){e=this.words=e||[],o!=k?this.sigBytes=o:this.sigBytes=e.length*4},toString:function(e){return(e||B).stringify(this)},concat:function(e){var o=this.words,c=e.words,f=this.sigBytes,b=e.sigBytes;if(this.clamp(),f%4)for(var _=0;_<b;_++){var S=c[_>>>2]>>>24-_%4*8&255;o[f+_>>>2]|=S<<24-(f+_)%4*8}else for(var z=0;z<b;z+=4)o[f+z>>>2]=c[z>>>2];return this.sigBytes+=b,this},clamp:function(){var e=this.words,o=this.sigBytes;e[o>>>2]&=4294967295<<32-o%4*8,e.length=m.ceil(o/4)},clone:function(){var e=F.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var o=[],c=0;c<e;c+=4)o.push(w());return new v.init(o,e)}}),y=D.enc={},B=y.Hex={stringify:function(e){for(var o=e.words,c=e.sigBytes,f=[],b=0;b<c;b++){var _=o[b>>>2]>>>24-b%4*8&255;f.push((_>>>4).toString(16)),f.push((_&15).toString(16))}return f.join("")},parse:function(e){for(var o=e.length,c=[],f=0;f<o;f+=2)c[f>>>3]|=parseInt(e.substr(f,2),16)<<24-f%8*4;return new v.init(c,o/2)}},x=y.Latin1={stringify:function(e){for(var o=e.words,c=e.sigBytes,f=[],b=0;b<c;b++){var _=o[b>>>2]>>>24-b%4*8&255;f.push(String.fromCharCode(_))}return f.join("")},parse:function(e){for(var o=e.length,c=[],f=0;f<o;f++)c[f>>>2]|=(e.charCodeAt(f)&255)<<24-f%4*8;return new v.init(c,o)}},h=y.Utf8={stringify:function(e){try{return decodeURIComponent(escape(x.stringify(e)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(e){return x.parse(unescape(encodeURIComponent(e)))}},p=t.BufferedBlockAlgorithm=F.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(e){typeof e=="string"&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var o,c=this._data,f=c.words,b=c.sigBytes,_=this.blockSize,S=_*4,z=b/S;e?z=m.ceil(z):z=m.max((z|0)-this._minBufferSize,0);var C=z*_,$=m.min(C*4,b);if(C){for(var I=0;I<C;I+=_)this._doProcessBlock(f,I);o=f.splice(0,C),c.sigBytes-=$}return new v.init(o,$)},clone:function(){var e=F.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});t.Hasher=p.extend({cfg:F.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var o=this._doFinalize();return o},blockSize:16,_createHelper:function(e){return function(o,c){return new e.init(c).finalize(o)}},_createHmacHelper:function(e){return function(o,c){return new E.HMAC.init(e,c).finalize(o)}}});var E=D.algo={};return D}(Math);return i})})(Q);(function(l,a){(function(i,m){l.exports=m(Q.exports)})(A,function(i){return function(m){var k=i,g=k.lib,w=g.WordArray,d=g.Hasher,D=k.algo,t=[];(function(){for(var h=0;h<64;h++)t[h]=m.abs(m.sin(h+1))*4294967296|0})();var F=D.MD5=d.extend({_doReset:function(){this._hash=new w.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(h,p){for(var E=0;E<16;E++){var e=p+E,o=h[e];h[e]=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360}var c=this._hash.words,f=h[p+0],b=h[p+1],_=h[p+2],S=h[p+3],z=h[p+4],C=h[p+5],$=h[p+6],I=h[p+7],R=h[p+8],H=h[p+9],T=h[p+10],W=h[p+11],M=h[p+12],P=h[p+13],j=h[p+14],L=h[p+15],u=c[0],n=c[1],s=c[2],r=c[3];u=v(u,n,s,r,f,7,t[0]),r=v(r,u,n,s,b,12,t[1]),s=v(s,r,u,n,_,17,t[2]),n=v(n,s,r,u,S,22,t[3]),u=v(u,n,s,r,z,7,t[4]),r=v(r,u,n,s,C,12,t[5]),s=v(s,r,u,n,$,17,t[6]),n=v(n,s,r,u,I,22,t[7]),u=v(u,n,s,r,R,7,t[8]),r=v(r,u,n,s,H,12,t[9]),s=v(s,r,u,n,T,17,t[10]),n=v(n,s,r,u,W,22,t[11]),u=v(u,n,s,r,M,7,t[12]),r=v(r,u,n,s,P,12,t[13]),s=v(s,r,u,n,j,17,t[14]),n=v(n,s,r,u,L,22,t[15]),u=y(u,n,s,r,b,5,t[16]),r=y(r,u,n,s,$,9,t[17]),s=y(s,r,u,n,W,14,t[18]),n=y(n,s,r,u,f,20,t[19]),u=y(u,n,s,r,C,5,t[20]),r=y(r,u,n,s,T,9,t[21]),s=y(s,r,u,n,L,14,t[22]),n=y(n,s,r,u,z,20,t[23]),u=y(u,n,s,r,H,5,t[24]),r=y(r,u,n,s,j,9,t[25]),s=y(s,r,u,n,S,14,t[26]),n=y(n,s,r,u,R,20,t[27]),u=y(u,n,s,r,P,5,t[28]),r=y(r,u,n,s,_,9,t[29]),s=y(s,r,u,n,I,14,t[30]),n=y(n,s,r,u,M,20,t[31]),u=B(u,n,s,r,C,4,t[32]),r=B(r,u,n,s,R,11,t[33]),s=B(s,r,u,n,W,16,t[34]),n=B(n,s,r,u,j,23,t[35]),u=B(u,n,s,r,b,4,t[36]),r=B(r,u,n,s,z,11,t[37]),s=B(s,r,u,n,I,16,t[38]),n=B(n,s,r,u,T,23,t[39]),u=B(u,n,s,r,P,4,t[40]),r=B(r,u,n,s,f,11,t[41]),s=B(s,r,u,n,S,16,t[42]),n=B(n,s,r,u,$,23,t[43]),u=B(u,n,s,r,H,4,t[44]),r=B(r,u,n,s,M,11,t[45]),s=B(s,r,u,n,L,16,t[46]),n=B(n,s,r,u,_,23,t[47]),u=x(u,n,s,r,f,6,t[48]),r=x(r,u,n,s,I,10,t[49]),s=x(s,r,u,n,j,15,t[50]),n=x(n,s,r,u,C,21,t[51]),u=x(u,n,s,r,M,6,t[52]),r=x(r,u,n,s,S,10,t[53]),s=x(s,r,u,n,T,15,t[54]),n=x(n,s,r,u,b,21,t[55]),u=x(u,n,s,r,R,6,t[56]),r=x(r,u,n,s,L,10,t[57]),s=x(s,r,u,n,$,15,t[58]),n=x(n,s,r,u,P,21,t[59]),u=x(u,n,s,r,z,6,t[60]),r=x(r,u,n,s,W,10,t[61]),s=x(s,r,u,n,_,15,t[62]),n=x(n,s,r,u,H,21,t[63]),c[0]=c[0]+u|0,c[1]=c[1]+n|0,c[2]=c[2]+s|0,c[3]=c[3]+r|0},_doFinalize:function(){var h=this._data,p=h.words,E=this._nDataBytes*8,e=h.sigBytes*8;p[e>>>5]|=128<<24-e%32;var o=m.floor(E/4294967296),c=E;p[(e+64>>>9<<4)+15]=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360,p[(e+64>>>9<<4)+14]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360,h.sigBytes=(p.length+1)*4,this._process();for(var f=this._hash,b=f.words,_=0;_<4;_++){var S=b[_];b[_]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return f},clone:function(){var h=d.clone.call(this);return h._hash=this._hash.clone(),h}});function v(h,p,E,e,o,c,f){var b=h+(p&E|~p&e)+o+f;return(b<<c|b>>>32-c)+p}function y(h,p,E,e,o,c,f){var b=h+(p&e|E&~e)+o+f;return(b<<c|b>>>32-c)+p}function B(h,p,E,e,o,c,f){var b=h+(p^E^e)+o+f;return(b<<c|b>>>32-c)+p}function x(h,p,E,e,o,c,f){var b=h+(E^(p|~e))+o+f;return(b<<c|b>>>32-c)+p}k.MD5=d._createHelper(F),k.HmacMD5=d._createHmacHelper(F)}(Math),i.MD5})})(K);var rt=K.exports;const Z="db5",it={operations:[],timeMove:"",timeCars:"",timeIdle:""};function at(l,a){const i=a>>>3,m=a&7;return l[i]&1<<m?1:0}function J(l,a,i){let m=0;for(let k=0;k<i;k++)m|=at(l,a+k)<<k;return m}const ct=nt({id:"mainStore",state:()=>({time:"00:00",color:"green",mals:{engine:"\u2014",radio:0,control:!1,nocontrolSwitch:!1,vagonControl:!1,workplace:!1,malfunction:!1,dspstop:!1,soststop:!1,braking:!1},field:V({hash:"",states:"",statesBuffer:new Uint8Array}),in:{type:"\u2014",control:!1,reversor:0,pk:0,kv:0,epk:!1,diesel:!1,rb:!1,boks:!1},sensors:{di_run:0,di_v:0,di_a:0,dd_cyl:0,dd_mag:0,dd_urv:0,dt:0},route:{zones:[{route:"free-way",lastbuid:null,headbuid:null,lightid:0,lightcolor:null,lightunforbid:!1,vagons:0,sd:0,vd:0,vt:0},{route:"free-way",lastbuid:null,headbuid:null,lightid:0,lightcolor:null,lightunforbid:!1,vagons:0,sd:0,vd:0,vt:0}],bu:[]},model:V({id:{},lights:{items:[]},hash:""}),process:it,buttons:{cruise:!1,pull:!1},plan:{id:"",open:0,operationID:null,stageID:null,operations:[]},windows:{engines:!1,call:!1},engines:[]}),getters:{getDirection(){return this.sensors.di_v!==0?this.sensors.di_v>0:this.in.reversor>=0},getSpeed(){if(this.route.zones.length>1){const l=this.getDirection?1:0;return{current:Math.round(Math.abs(this.sensors.di_v)),limit:Math.round(this.route.zones[l].vd),target:Math.round(this.route.zones[l].vt)}}return{current:0,limit:0,target:0}},getSignalColorByID:l=>a=>{let i="none";if(l.model.id[a]&&l.model.id){const{bits:m}=l.model.id[a];switch(J(l.field.statesBuffer,m[0],m[1])){case 0:i="blue";break;case 1:i="white";break;case 2:i="blue";break;case 3:i="blue";break;case 4:i="red";break;case 5:i="yellow";break;case 6:i="yellow";break;case 7:i="green";break;default:i="blue"}}return i},getSignalColor(){if(this.route.zones.length>1){const l=this.getDirection?1:0;return this.getSignalColorByID(this.route.zones[l].lightid)}return"none"},getZoneFront(){if(this.route.zones.length>1){const l=(()=>{var m,k;return this.route.zones[0].endtype==="light"?((m=this.model.id[this.route.zones[1].lightid])==null?void 0:m.name)||"?":this.route.zones[0].endtype==="section"&&((k=this.model.id[this.route.zones[1].lastbuid])==null?void 0:k.name)||"?"})();let a="\u2014";const i=this.route.zones[1].sd;switch(this.route.zones[1].route){case"behind-light":a=`\u0437\u0430 ${l}`;break;case"before-light":a=`${l}`;break;case"shunt-way":a=`\u043D\u0430 \u0437\u0430\u043D\u044F\u0442\u044B\u0439 ${l}`;break;case"deadend":a="\u0432 \u0442\u0443\u043F\u0438\u043A";break;case"free-way":a=`\u043D\u0430 \u043F\u0443\u0442\u044C ${l}`;break;case"span":a="\u043D\u0430 \u043F\u0435\u0440\u0435\u0433\u043E\u043D";break;case"away":a="\u0437\u0430 \u043F\u0440\u0435\u0434\u0435\u043B\u044B";break;case"mount-pull":a=`\u043F\u043E\u0434\u0442\u044F\u0433. ${l}`;break;case"mount-push":a=`\u043D\u0430\u0434\u0432. ${l}`;break;case"mount-sort":a=`\u0440\u043E\u0441\u043F. ${l}`;break;case"mount-back":a=`\u043E\u0441\u0430\u0436. ${l}`;break;case"none":a="\u043D\u0435\u0442";break;default:a=this.route.zones[1].route}return{text:a,distance:i}}return{text:"\u2014",distance:0}},getZoneBack(){if(this.route.zones.length>1){const l=(()=>{var m,k;return this.route.zones[0].endtype==="light"?((m=this.model.id[this.route.zones[0].lightid])==null?void 0:m.name)||"?":this.route.zones[0].endtype==="section"&&((k=this.model.id[this.route.zones[0].lastbuid])==null?void 0:k.name)||"?"})();let a="\u2014";const i=this.route.zones[0].sd;switch(this.route.zones[0].route){case"behind-light":a=`\u0437\u0430 ${l}`;break;case"before-light":a=`${l}`;break;case"shunt-way":a=`\u043D\u0430 \u0437\u0430\u043D\u044F\u0442\u044B\u0439 ${l}`;break;case"deadend":a="\u0432 \u0442\u0443\u043F\u0438\u043A";break;case"free-way":a=`\u043D\u0430 \u043F\u0443\u0442\u044C ${l}`;break;case"span":a="\u043D\u0430 \u043F\u0435\u0440\u0435\u0433\u043E\u043D";break;case"away":a="\u0437\u0430 \u043F\u0440\u0435\u0434\u0435\u043B\u044B \u0441\u0442\u0430\u043D\u0446\u0438\u0438";break;case"mount-pull":a=`\u043F\u043E\u0434\u0442\u044F\u0433. ${l}`;break;case"mount-push":a=`\u043D\u0430\u0434\u0432. ${l}`;break;case"mount-sort":a=`\u0440\u043E\u0441\u043F. ${l}`;break;case"mount-back":a=`\u043E\u0441\u0430\u0436. ${l}`;break;case"none":a="\u043D\u0435\u0442";break;default:a=this.route.zones[0].route}return{text:a,distance:i}}return{text:"\u2014",distance:0}}},actions:{updateTime(){const l=new Date;this.time=`${String(l.getHours()).padStart(2,"0")}:${String(l.getMinutes()).padStart(2,"0")}`},openOperation(l){this.plan.open===l?this.plan.open=-1:this.plan.open=l},async fetchCycle(l){try{const{data:a}=await N.get(`/${Z}/now?engines_version=2`),i=a.engines.find(g=>g.mals.engine==l);a.field.hash!==this.model.hash&&await this.fetchModel(),this.mals.engine=i.mals.engine,i.mals.radio.timeout<=3?this.mals.radio=4:i.mals.radio.timeout<=6?this.mals.radio=3:i.mals.radio.timeout<=9?this.mals.radio=2:i.mals.radio.timeout<=12?this.mals.radio=1:i.mals.radio.timeout<=15&&(this.mals.radio=0),this.mals.control=i.mals.control,this.mals.nocontrolSwitch=i.mals.nocontrol_switch,this.mals.vagonControl=i.mals.vagon_control,this.mals.workplace=i.mals.workplace,this.mals.malfunction=i.mals.malfunction,this.mals.dspstop=i.mals.dspstop,this.mals.soststop=i.mals.soststop,this.mals.braking=i.mals.braking||!1,this.field=q(U({},a.field),{statesBuffer:Uint8Array.from(window.atob(a.field.states),g=>g.charCodeAt(0))}),this.in=i.in,this.sensors=i.sensors,this.route.zones=i.route.zones,this.route.bu.splice(0,this.route.bu.length);let m=null;if(i.route.rails.zone)for(let g=0;g<i.route.rails.zone.length;g++){const w=i.route.rails.zone[g],d=this.model.id[w],{buId:D}=d;let t="noControl";if(D){const{bits:F}=this.model.id[D],v=J(this.field.statesBuffer,F[0],F[1]),y=Boolean(v&1),B=Boolean((v&2)>>1),x=Boolean((v&4)>>2),h=Boolean((v&8)>>3);y?B?t="shunt":x?h?t="train-route":t="route":t="free":t="no-control"}if(D!==m&&this.route.bu.push({state:t,buId:D,length:0,headSrc:null,headDst:null,engine:null}),w===i.route.rails.head_dst[0]&&(this.route.bu[this.route.bu.length-1].headDst=i.route.rails.head_dst[1]+this.route.bu[this.route.bu.length-1].length),w===i.route.rails.head_src[0]&&(this.route.bu[this.route.bu.length-1].headSrc=i.route.rails.head_src[1]+this.route.bu[this.route.bu.length-1].length),w===i.position.railid&&(this.route.bu[this.route.bu.length-1].engine=i.position.raildist+this.route.bu[this.route.bu.length-1].length),this.route.bu[this.route.bu.length-1].length+=d.length,d.srcType==="\u0441\u0442\u044B\u043A"){const{srcId:F}=d,v=this.model.lights.items.find(y=>y.jointId===F&&y.railId===w);v&&(this.route.bu[this.route.bu.length-1].srcSignal=this.getSignalColorByID(v.id),this.route.bu[this.route.bu.length-1].srcName=v.name)}if(d.dstType==="\u0441\u0442\u044B\u043A"){const{dstId:F}=d,v=this.model.lights.items.find(y=>y.jointId===F&&y.railId===w);v&&(this.route.bu[this.route.bu.length-1].dstSignal=this.getSignalColorByID(v.id),this.route.bu[this.route.bu.length-1].dstName=v.name)}m=D}i.plan.plan_id!==this.plan.id&&await this.fetchPlan(l),this.plan.operationID=i.plan.oper_id,this.plan.stageID=i.plan.stage_id;let k=!0;for(let g=0;g<this.plan.operations.length;g++){const w=this.plan.operations[g];for(let d=0;d<w.stages.length;d++){const D=w.stages[d];(this.plan.operationID===null||D.id===this.plan.stageID)&&(k=!1,w.progress=((d+1)/w.stages.length-.5/w.stages.length)*100),D.finished=k}w.finished=w.stages[w.stages.length-1].finished,w.finished&&(w.progress=100)}this.engines.splice(0,this.engines.length),a.engines.forEach(g=>{this.engines.push(g.mals.engine)})}catch(a){console.log(a)}},async fetchModel(){try{const l=["parks","points","joints","switches","bu","lights","rails"],{data:a}=await N.get(`/${Z}/field/model`);a.hash=rt(JSON.stringify(a)).toString(),a.id={},l.forEach(i=>{a[i].items.forEach(m=>{a.id[m.id]=q(U({},m),{objectType:i})})}),this.model=a}catch(l){console.log(l)}},async fetchPlan(l){var a,i,m,k;try{const{data:g}=await N.get(`/db5/plan?engine=${l}`);for(let w=0;w<g.data.operations.length;w++){const d=g.data.operations[w];switch(d.type){case"arrival":d.text="\u041F\u0440\u0438\u0431\u044B\u0442\u0438\u0435";break;case"departure":d.text="\u041E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435";break;case"cars_coupling":d.text="\u041F\u0440\u0438\u0446\u0435\u043F\u043A\u0430 \u0432\u0430\u0433\u043E\u043D\u043E\u0432";break;case"cars_uncoupling":d.text="\u041E\u0442\u0446\u0435\u043F\u043A\u0430 \u0432\u0430\u0433\u043E\u043D\u043E\u0432";break;case"engine_coupling":d.text="\u041F\u0440\u0438\u0446\u0435\u043F\u043A\u0430 \u043B\u043E\u043A\u043E\u043C\u043E\u0442\u0438\u0432\u0430";break;case"engine_uncoupling":d.text="\u041E\u0442\u0446\u0435\u043F\u043A\u0430 \u043B\u043E\u043A\u043E\u043C\u043E\u0442\u0438\u0432\u0430";break;case"forming":d.text="\u0424\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435";break;case"splitting":d.text=`\u0420\u0430\u0441\u0444\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0441\u043E\u0441\u0442\u0430\u0432\u0430 \u0438\u0437 \u043F\u0430\u0440\u043A\u0430 ${d.yardFrom} c \u043F\u0443\u0442\u0438 ${d.wayFrom} \u0432 \u043F\u0430\u0440\u043A ${d.yardWhere}`;break;case"feeding":d.text="\u041F\u043E\u0434\u0430\u0447\u0430";break;case"picking":d.text="\u0423\u0431\u043E\u0440\u043A\u0430";break;case"placement":d.text="\u0412\u044B\u0441\u0442\u0430\u0432\u043A\u0430";break;case"relocation":d.text="\u041F\u0435\u0440\u0435\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430";break;default:d.text=d.type}for(let D=0;D<d.stages.length;D++){const t=d.stages[D];switch(t.type){case"coupling":t.text="\u0421\u0446\u0435\u043F\u043A\u0430";break;case"uncoupling":t.text="\u041E\u0442\u0446\u0435\u043F\u043A\u0430";break;case"route":t.text="\u041C\u0430\u0440\u0448\u0440\u0443\u0442",(a=t.bu_id)!=null&&a.start&&(t.text+=` c ${(i=t.bu_id)==null?void 0:i.start}`),(m=t.bu_id)!=null&&m.end&&(t.text+=` \u043D\u0430 ${(k=t.bu_id)==null?void 0:k.end}`);break;case"idle":t.text="\u041E\u0436\u0438\u0434\u0430\u043D\u0438\u0435";break;case"pulling":t.text="\u041F\u043E\u0434\u0442\u044F\u0433\u0438\u0432\u0430\u043D\u0438\u0435";break;case"thrust":t.text="\u041D\u0430\u0434\u0432\u0438\u0433";break;case"dissolution":t.text="\u0420\u043E\u0441\u043F\u0443\u0441\u043A";break;default:t.text=t.type}if(t.route_type==="before_light"&&t.light_id){const F=this.model.id[t.light_id];F&&F.name&&(t.text+=` \u0434\u043E ${F.name}`)}t.finished=!1}d.finished=!1}this.plan.id=g.data.id,this.plan.operations.splice(0,this.plan.operations),this.plan.operations=g.data.operations}catch(g){console.log(g)}}}});export{ct as u};
